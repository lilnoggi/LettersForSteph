<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Love Letters For Steph</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: black; /* black background for stars */
    margin: 0;
    height: 100vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: white;
    position: relative;
  }

  canvas {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 0; /* behind letters */
  }

  h1 {
    margin-bottom: 10px;
    font-size: 2.5rem;
    text-shadow: 2px 2px 6px rgba(0,0,0,0.3);
    color: #fff;
    z-index: 1;
    position: relative;
  }

  #choose-text {
    margin-bottom: 20px;
    font-size: 1.2rem;
    z-index: 1;
    position: relative;
  }

  .button {
    padding: 12px 24px;
    font-size: 16px;
    border-radius: 30px;
    border: none;
    background: linear-gradient(135deg, hotpink, deeppink);
    color: white;
    cursor: pointer;
    margin: 8px;
    transition: transform 0.2s, box-shadow 0.3s;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    z-index: 1;
    position: relative;
  }
  .button:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 14px rgba(0,0,0,0.4);
  }

  .letter {
    display: none;
    padding: 30px;
    border: none;
    background: rgba(255, 240, 245, 0.95); /* slightly transparent so stars show behind */
    border-radius: 20px;
    max-width: 450px;
    box-shadow: 0 15px 30px rgba(0,0,0,0.3);
    color: #333;
    text-align: left;
    font-family: 'Georgia', serif;
    font-size: 1rem;
    line-height: 1.6;
    opacity: 0;
    transform: scaleY(0);
    transform-origin: top center;
    animation: unfold 0.6s forwards ease-out;
    z-index: 1;
    position: relative;
  }
  .letter h2 {
    margin-top: 0;
    color: #a4508b;
    font-family: 'Georgia', serif;
  }

  @keyframes unfold {
    0% { opacity: 0; transform: scaleY(0); }
    60% { opacity: 1; transform: scaleY(1.05); }
    100% { opacity: 1; transform: scaleY(1); }
  }

  .back-button {
    margin-top: 20px;
    padding: 10px 20px;
    font-size: 14px;
    border-radius: 30px;
    border: none;
    background: linear-gradient(135deg, #5f0a87, #a4508b);
    color: white;
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.3s;
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  }
  .back-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 14px rgba(0,0,0,0.4);
  }
</style>
</head>
<body>

<canvas id="starCanvas"></canvas>

<h1>To my love</h1>
<p id="choose-text">Please choose a letter to open!</p>

<div id="buttons">
  <button class="button" onclick="openLetter('receives')">üíå Open when you first receive this</button>
  <button class="button" onclick="openLetter('sad')">üåß Open when you're feeling sad</button>
  <button class="button" onclick="openLetter('miss')">‚ù§Ô∏è Open when you miss me</button>
  <button class="button" onclick="openLetter('birthday')">üéÇ Open when IT'S YOUR BIRTHDAY!</button>
  <button class="button" onclick="openLetter('six-month')">ü•Ç Open on October 1st</button>
  <button class="button" onclick="openLetter('one-year')">‚åõ Open on April 1st 2025</button>
</div>

<!-- Letters -->
<div id="receives" class="letter">
  <h2>My first little letter to you</h2>
  <p>
    Steph, if you're reading this, it means you've just received this little surprise from me!
    I made this just for you so you can see how much I care about you...
  </p>
  <button class="back-button" onclick="goBack()">‚¨Ö Back</button>
</div>

<div id="sad" class="letter">
  <h2>When you're feeling sad</h2>
  <p>
    Hey Steph, I know life can be tough sometimes, and it's okay to feel sad...
  </p>
  <button class="back-button" onclick="goBack()">‚¨Ö Back</button>
</div>

<div id="miss" class="letter">
  <h2>When you miss me</h2>
  <p>
    Stephy, please know I am missing you too...
  </p>
  <button class="back-button" onclick="goBack()">‚¨Ö Back</button>
</div>

<div id="birthday" class="letter">
  <h2>IT'S YOUR BIRTHDAY</h2>
  <p>
    Steph, it's not your birthday yet...
  </p>
  <button class="back-button" onclick="goBack()">‚¨Ö Back</button>
</div>

<div id="six-month" class="letter">
  <h2>Wow... six months?!</h2>
  <p>
    Steph, stop being impatient...
  </p>
  <button class="back-button" onclick="goBack()">‚¨Ö Back</button>
</div>

<div id="one-year" class="letter">
  <h2>A whole year?!</h2>
  <p>
    Baby... not yet :(
  </p>
  <button class="back-button" onclick="goBack()">‚¨Ö Back</button>
</div>

<script>
  const canvas = document.getElementById('starCanvas');
  const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  // --- STARS AND HEARTS LOGIC (from your stars.js) ---
  const stars = [];
  const hearts = [];
  const messages = ["I love you!", "You are my universe!", "You are my star!"];
  const activeMessages = [];
  
  for (let i=0; i<100; i++) {
      stars.push({x: Math.random()*canvas.width, y: Math.random()*canvas.height, radius: Math.random()*2+1, brightness: Math.random()*155+100, change: (Math.random()*4.5+0.45)*(Math.random()<0.5?-1:1)});
  }

  function drawHeart(x,y,size){
      ctx.beginPath();
      ctx.moveTo(x,y);
      ctx.bezierCurveTo(x,y-size/2,x-size,y-size/2,x-size,y);
      ctx.bezierCurveTo(x-size,y+size/2,x,y+size/1.5,x,y+size);
      ctx.bezierCurveTo(x,y+size/1.5,x+size,y+size/2,x+size,y);
      ctx.bezierCurveTo(x+size,y-size/2,x,y-size/2,x,y);
      ctx.closePath();
      ctx.fillStyle="rgba(255,100,180,0.8)";
      ctx.fill();
  }

  function animateStars(){
      ctx.clearRect(0,0,canvas.width,canvas.height);

      // stars
      stars.forEach(s=>{
          s.brightness+=s.change;
          if(s.brightness>255){s.brightness=255;s.change*=-1;}
          if(s.brightness<100){s.brightness=100;s.change*=-1;}
          const b=Math.floor(s.brightness);
          ctx.fillStyle=`rgb(${b},${b},${b})`;
          ctx.beginPath();
          ctx.arc(s.x,s.y,s.radius,0,Math.PI*2);
          ctx.fill();
      });

      // hearts
      for(let i=hearts.length-1;i>=0;i--){
          let h=hearts[i];
          h.trail=h.trail||[];
          h.trail.push({x:h.x,y:h.y,size:h.size,opacity:h.opacity});
          if(h.trail.length>8) h.trail.shift();
          h.trail.forEach((t,index)=>{
              ctx.globalAlpha=t.opacity*((h.trail.length-index)/h.trail.length);
              drawHeart(t.x,t.y,t.size*0.8);
          });
          ctx.globalAlpha=1;
          drawHeart(h.x,h.y,h.size);
          h.x+=h.speedX; h.y+=h.speedY; h.opacity-=0.005;
          if(h.y>canvas.height||h.opacity<=0) hearts.splice(i,1);
      }

      if(Math.random()<0.02){
          hearts.push({x:Math.random()*canvas.width,y:-20,size:Math.random()*10+5,speedX:(Math.random()-0.5)*2,speedY:Math.random()*2+1,opacity:1.0});
      }

      requestAnimationFrame(animateStars);
  }

  animateStars();

  canvas.addEventListener("click",function(e){
      const mouseX=e.clientX;
      const mouseY=e.clientY;
      stars.forEach(star=>{
          const dx=mouseX-star.x;
          const dy=mouseY-star.y;
          if(Math.sqrt(dx*dx+dy*dy)<star.radius+5){
              const msg=messages[Math.floor(Math.random()*messages.length)];
              activeMessages.push({text:msg,x:star.x+10,y:star.y-10,opacity:1.0});
              for(let i=0;i<3;i++) hearts.push({x:star.x,y:star.y,size:Math.random()*10+5,speedX:(Math.random()-0.5)*2,speedY:Math.random()*2+1,opacity:1.0,trail:[]});
          }
      });
  });

  // --- LETTER LOGIC ---
  function openLetter(id){
      document.getElementById('buttons').style.display='none';
      document.getElementById('choose-text').style.display='none';
      document.querySelectorAll('.letter').forEach(el=>el.style.display='none');
      const letter=document.getElementById(id);
      letter.style.display='block';
      letter.style.animation='unfold 0.6s forwards ease-out';
  }

  function goBack(){
      document.querySelectorAll('.letter').forEach(el=>el.style.display='none');
      document.getElementById('buttons').style.display='block';
      document.getElementById('choose-text').style.display='block';
  }

  window.addEventListener('resize',()=>{
      canvas.width=window.innerWidth;
      canvas.height=window.innerHeight;
  });
</script>
</body>
</html>
